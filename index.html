<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoldCasino</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #FFD700;
            --dark-gold: #b8860b;
            --dark-bg: #0c0c0c;
            --card-bg: #1a1a1a;
        }
        
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--dark-bg) 0%, #1a1a1a 100%);
            color: #e0e0e0;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            touch-action: manipulation;
        }
        
        .header-transparent {
            background: rgba(0, 0, 0, 0.7) !important;
            backdrop-filter: blur(10px);
        }
        
        .card {
            background: linear-gradient(145deg, var(--card-bg), #222222);
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.5),
                        -1px -1px 5px rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 215, 0, 0.1);
        }
        
        .gold-text {
            color: var(--gold);
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
        }
        
        .slot-machine {
            background: linear-gradient(145deg, #0f0f0f, #1a1a1a);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.8),
                        0 0 20px rgba(255, 215, 0, 0.1);
        }
        
        .slot-reel {
            background: linear-gradient(145deg, #121212, #0a0a0a);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            height: 180px;
        }
        
        .slot-items {
            position: absolute;
            width: 100%;
            transition: transform 0.1s linear;
        }
        
        .slot-item {
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--gold);
            text-shadow: 0 0 8px rgba(255, 215, 0, 0.7);
        }
        
        .btn-gold {
            background: linear-gradient(145deg, var(--dark-gold), #daa520);
            color: #000;
            font-weight: 600;
            border: none;
            border-radius: 6px;
            transition: all 0.2s ease;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
            padding: 10px 16px;
            font-size: 0.9rem;
        }
        
        .btn-gold:hover, .btn-gold:active {
            background: linear-gradient(145deg, #daa520, #ffd700);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        }
        
        .btn-gold:active {
            transform: translateY(1px);
        }
        
        .btn-demo {
            background: linear-gradient(145deg, #4a5568, #2d3748);
            color: #e2e8f0;
            font-weight: 600;
            border: none;
            border-radius: 6px;
            transition: all 0.2s ease;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
            padding: 10px 16px;
            font-size: 0.9rem;
        }
        
        .btn-demo:hover {
            background: linear-gradient(145deg, #5a6575, #3d4757);
            transform: translateY(-1px);
        }
        
        .btn-telegram {
            background: linear-gradient(145deg, #0088cc, #006699);
            color: white;
            font-weight: 600;
            border: none;
            border-radius: 6px;
            transition: all 0.2s ease;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
            padding: 10px 16px;
            font-size: 0.9rem;
        }
        
        .btn-telegram:hover {
            background: linear-gradient(145deg, #0099dd, #0077aa);
            transform: translateY(-1px);
        }
        
        .jackpot {
            background: linear-gradient(90deg, #ffd700, #ffed4e, #ffd700);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        .pulse-gold {
            animation: pulse-gold 2s infinite;
        }
        
        @keyframes pulse-gold {
            0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4); }
            70% { box-shadow: 0 0 0 8px rgba(255, 215, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
        }
        
        .win-animation {
            animation: win-pulse 0.5s 3;
        }
        
        @keyframes win-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .auto-spin-active {
            background: linear-gradient(145deg, #ff3333, #cc0000) !important;
            color: white !important;
        }
        
        .game-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 215, 0, 0.2);
        }
        
        .star-icon {
            color: #FFD700;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è */
        @media (max-width: 640px) {
            .slot-reel {
                height: 140px;
            }
            
            .slot-item {
                height: 46px;
                font-size: 1.7rem;
            }
            
            .btn-gold, .btn-demo, .btn-telegram {
                padding: 12px 20px;
                font-size: 1rem;
            }
            
            .mobile-padding {
                padding-left: 12px;
                padding-right: 12px;
            }
            
            .mobile-text-sm {
                font-size: 0.9rem;
            }
            
            .mobile-text-lg {
                font-size: 1.1rem;
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ */
        .screen {
            transition: opacity 0.3s ease;
        }
        
        .screen.hidden {
            display: none;
            opacity: 0;
        }
        
        .screen.active {
            display: block;
            opacity: 1;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–≥—Ä—ã "–ú–∏–Ω—ë—Ä" */
        .mine-field {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
            margin: 20px 0;
        }
        
        .mine-cell {
            width: 50px;
            height: 50px;
            background: linear-gradient(145deg, #2a2a2a, #1a1a1a);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .mine-cell:hover {
            background: linear-gradient(145deg, #3a3a3a, #2a2a2a);
            border-color: rgba(255, 215, 0, 0.6);
        }
        
        .mine-cell.revealed {
            background: linear-gradient(145deg, #1a3a1a, #0a2a0a);
            border-color: rgba(0, 255, 0, 0.5);
        }
        
        .mine-cell.mine {
            background: linear-gradient(145deg, #3a1a1a, #2a0a0a);
            border-color: rgba(255, 0, 0, 0.5);
        }
        
        .mine-cell.mine::after {
            content: "üí£";
        }
        
        .mine-cell.gem::after {
            content: "üíé";
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è —Å–ª–æ—Ç–æ–≤ */
        .reel-spinning {
            animation: reel-spin 0.1s linear infinite;
        }
        
        @keyframes reel-spin {
            0% { transform: translateY(0); }
            100% { transform: translateY(-360px); }
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤ */
        .withdraw-modal {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }
        
        .balance-dropdown {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            padding: 10px;
            min-width: 200px;
            z-index: 1000;
        }
        
        .balance-container:hover .balance-dropdown {
            display: block;
        }
        
        .telegram-user {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 8px;
            margin-bottom: 10px;
        }
        
        .bonus-timer {
            background: linear-gradient(145deg, #1a3a1a, #0a2a0a);
            border: 1px solid rgba(0, 255, 0, 0.3);
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
            text-align: center;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Header -->
    <header class="header-transparent border-b border-gold-800/30 py-3 px-4 sticky top-0 z-10">
        <div class="flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <div class="w-8 h-8 rounded-full bg-gradient-to-br from-yellow-600 to-yellow-800 flex items-center justify-center">
                    <i class="fas fa-crown text-white text-sm"></i>
                </div>
                <h1 class="text-lg font-bold gold-text mobile-text-lg">GoldCasino</h1>
            </div>
            <div class="flex space-x-3">
                <div class="balance-container relative">
                    <button class="bg-gradient-to-r from-yellow-700 to-yellow-900 text-white px-3 py-1.5 rounded-lg flex items-center space-x-1 text-sm">
                        <i class="fas fa-star star-icon text-xs"></i>
                        <span id="balance">0</span>
                    </button>
                    <div class="balance-dropdown">
                        <button id="withdrawBtn" class="btn-gold w-full mb-2">
                            <i class="fas fa-wallet mr-2"></i>–í—ã–≤–µ—Å—Ç–∏
                        </button>
                        <p class="text-xs text-gray-400 text-center">–î–µ–º–æ-–ø—Ä–æ–∫—Ä—É—Ç—ã: <span id="demoSpins">5</span></p>
                    </div>
                </div>
                <button id="backButton" class="bg-gradient-to-r from-gray-700 to-gray-900 text-white px-3 py-1.5 rounded-lg flex items-center space-x-1 text-sm hidden">
                    <i class="fas fa-arrow-left text-xs"></i>
                    <span>–ù–∞–∑–∞–¥</span>
                </button>
            </div>
        </div>
    </header>

    <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –≤—ã–±–æ—Ä–æ–º –∏–≥—Ä—ã -->
    <main class="flex-1 p-3 mobile-padding" id="mainScreen">
        <div class="max-w-md mx-auto">
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ Telegram -->
            <div class="card p-4 mb-4" id="telegramUserInfo" style="display: none;">
                <div class="telegram-user">
                    <img id="userAvatar" src="" class="w-10 h-10 rounded-full">
                    <div>
                        <div class="font-bold gold-text" id="userName"></div>
                        <div class="text-xs text-gray-400">ID: <span id="userId"></span></div>
                    </div>
                </div>
                <p class="text-sm text-gray-400 text-center">–ò–≥—Ä–∞–π—Ç–µ –∑–∞ Telegram Stars! üé∞</p>
            </div>

            <!-- –ë–æ–Ω—É—Å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="card p-4 mb-4">
                <h3 class="text-lg font-bold gold-text mb-3 text-center">üéÅ –ë–æ–Ω—É—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</h3>
                <div class="bonus-timer">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-sm">üéÅ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å:</span>
                        <span class="text-green-400 font-bold" id="dailyBonusTimer">100 ‚≠ê</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-sm">‚è∞ –ú–∏–Ω—É—Ç–Ω—ã–π –±–æ–Ω—É—Å:</span>
                        <span class="text-blue-400 font-bold" id="minuteBonusTimer">1 ‚≠ê</span>
                    </div>
                </div>
                <button id="getBonusBtn" class="btn-telegram w-full">
                    <i class="fas fa-gift mr-2"></i>–ü–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å—ã –≤ –±–æ—Ç–µ
                </button>
            </div>

            <div class="card p-6 text-center mb-6">
                <h2 class="text-2xl font-bold gold-text mb-2">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ GoldCasino!</h2>
                <p class="text-gray-400 mb-4">–ò–≥—Ä–∞–π—Ç–µ –∑–∞ Telegram Stars</p>
                
                <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ -->
                <div class="mb-6 p-4 bg-gradient-to-r from-yellow-900/20 to-yellow-700/20 rounded-lg">
                    <p class="text-gray-400 mb-2">–î–ª—è –∏–≥—Ä—ã –Ω—É–∂–Ω—ã Telegram Stars</p>
                    <button id="addStarsBtn" class="btn-telegram w-full mb-2">
                        <i class="fab fa-telegram mr-2"></i>–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å
                    </button>
                    <p class="text-xs text-gray-400">–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å Stars —á–µ—Ä–µ–∑ Telegram</p>
                </div>
                
                <div class="grid grid-cols-1 gap-4 mt-6">
                    <div class="game-card card p-5" data-game="slots">
                        <div class="w-16 h-16 rounded-full bg-gradient-to-br from-yellow-600 to-yellow-800 flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-sliders-h text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold gold-text mb-2">–§—Ä—É–∫—Ç–æ–≤—ã–µ –°–ª–æ—Ç—ã</h3>
                        <p class="text-gray-400 text-sm mb-3">1 –∑–≤–µ–∑–¥–∞ = 5 –ø—Ä–æ–∫—Ä—É—Ç–æ–≤</p>
                        <div class="flex space-x-2">
                            <div class="btn-gold flex-1">–ò–≥—Ä–∞—Ç—å –∑–∞ 1‚≠ê</div>
                            <button class="btn-demo demo-slots-btn flex-1">–î–µ–º–æ</button>
                        </div>
                    </div>
                    
                    <div class="game-card card p-5" data-game="mines">
                        <div class="w-16 h-16 rounded-full bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-bomb text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold gold-text mb-2">–ú–∏–Ω—ë—Ä</h3>
                        <p class="text-gray-400 text-sm mb-3">20 –∑–≤–µ–∑–¥ –∑–∞ –∏–≥—Ä—É</p>
                        <div class="btn-gold w-full">–ò–≥—Ä–∞—Ç—å –∑–∞ 20‚≠ê</div>
                    </div>
                </div>
            </div>
            
            <div class="card p-4 text-center">
                <h3 class="text-lg font-bold gold-text mb-2">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                <div class="grid grid-cols-2 gap-4 text-sm">
                    <div>
                        <p class="text-gray-400">–í—Å–µ–≥–æ –≤—ã–∏–≥—Ä–∞–Ω–æ</p>
                        <p class="gold-text font-bold" id="totalWon">0 ‚≠ê</p>
                    </div>
                    <div>
                        <p class="text-gray-400">–°—ã–≥—Ä–∞–Ω–æ –∏–≥—Ä</p>
                        <p class="gold-text font-bold" id="totalGames">0</p>
                    </div>
                </div>
            </div>

            <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ –±–æ—Ç–∞ -->
            <div class="card p-4 mt-4 text-center">
                <p class="text-gray-400 mb-2">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –±–æ–Ω—É—Å—ã –≤ –Ω–∞—à–µ–º –±–æ—Ç–µ:</p>
                <a href="https://t.me/Gold_CasinoRoBot" class="btn-telegram w-full" target="_blank">
                    <i class="fab fa-telegram mr-2"></i>@Gold_CasinoRoBot
                </a>
            </div>
        </div>
    </main>

    <!-- –≠–∫—Ä–∞–Ω —Å–ª–æ—Ç–æ–≤ -->
    <main class="flex-1 p-3 mobile-padding hidden screen" id="slotsScreen">
        <div class="max-w-md mx-auto">
            <div class="card p-4 mb-4">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-bold gold-text mobile-text-lg">–§—Ä—É–∫—Ç–æ–≤—ã–µ –°–ª–æ—Ç—ã</h2>
                    <div class="flex items-center space-x-1 bg-gradient-to-r from-yellow-900/30 to-yellow-700/30 px-3 py-1.5 rounded-lg text-sm">
                        <i class="fas fa-star star-icon text-xs"></i>
                        <span class="font-bold">–ë–∞–ª–∞–Ω—Å: <span class="gold-text" id="currentBalance">0</span>‚≠ê</span>
                    </div>
                </div>

                <!-- Slot Machine -->
                <div class="slot-machine p-4 mb-4">
                    <div class="flex justify-between mb-6">
                        <div class="slot-reel w-20">
                            <div class="slot-items" id="reel1">
                                <div class="slot-item">üçí</div>
                                <div class="slot-item">üçã</div>
                                <div class="slot-item">üçä</div>
                                <div class="slot-item">üçá</div>
                                <div class="slot-item">üçâ</div>
                                <div class="slot-item">üçì</div>
                                <div class="slot-item">üçí</div>
                                <div class="slot-item">üçã</div>
                                <div class="slot-item">üçä</div>
                                <div class="slot-item">üçá</div>
                                <div class="slot-item">üçâ</div>
                                <div class="slot-item">üçì</div>
                            </div>
                        </div>
                        <div class="slot-reel w-20">
                            <div class="slot-items" id="reel2">
                                <div class="slot-item">üçí</div>
                                <div class="slot-item">üçã</div>
                                <div class="slot-item">üçä</div>
                                <div class="slot-item">üçá</div>
                                <div class="slot-item">üçâ</div>
                                <div class="slot-item">üçì</div>
                                <div class="slot-item">üçí</div>
                                <div class="slot-item">üçã</div>
                                <div class="slot-item">üçä</div>
                                <div class="slot-item">üçá</div>
                                <div class="slot-item">üçâ</div>
                                <div class="slot-item">üçì</div>
                            </div>
                        </div>
                        <div class="slot-reel w-20">
                            <div class="slot-items" id="reel3">
                                <div class="slot-item">üçí</div>
                                <div class="slot-item">üçã</div>
                                <div class="slot-item">üçä</div>
                                <div class="slot-item">üçá</div>
                                <div class="slot-item">üçâ</div>
                                <div class="slot-item">üçì</div>
                                <div class="slot-item">üçí</div>
                                <div class="slot-item">üçã</div>
                                <div class="slot-item">üçä</div>
                                <div class="slot-item">üçá</div>
                                <div class="slot-item">üçâ</div>
                                <div class="slot-item">üçì</div>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-between">
                        <button id="spinButton" class="btn-gold flex items-center space-x-2 flex-1 mr-2 justify-center">
                            <i class="fas fa-play"></i>
                            <span>–ö—Ä—É—Ç–∏—Ç—å (1‚≠ê)</span>
                        </button>
                        <button id="demoSpinButton" class="btn-demo flex items-center space-x-2 flex-1 ml-2 justify-center">
                            <i class="fas fa-play"></i>
                            <span>–î–µ–º–æ (<span id="demoSpinsCount">5</span>)</span>
                        </button>
                    </div>
                </div>

                <!-- Game Info -->
                <div class="grid grid-cols-2 gap-3 mb-4">
                    <div class="card p-3 text-center">
                        <p class="text-gray-400 mb-1 mobile-text-sm">–í—ã–∏–≥—Ä—ã—à</p>
                        <p class="text-lg font-bold text-green-400 mobile-text-lg" id="winAmount">0 ‚≠ê</p>
                    </div>
                    <div class="card p-3 text-center">
                        <p class="text-gray-400 mb-1 mobile-text-sm">–ú–Ω–æ–∂–∏—Ç–µ–ª—å</p>
                        <p class="text-lg font-bold text-blue-400 mobile-text-lg" id="multiplier">x1</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- –≠–∫—Ä–∞–Ω –∏–≥—Ä—ã "–ú–∏–Ω—ë—Ä" -->
    <main class="flex-1 p-3 mobile-padding hidden screen" id="minesScreen">
        <div class="max-w-md mx-auto">
            <div class="card p-4 mb-4">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-bold gold-text mobile-text-lg">–ú–∏–Ω—ë—Ä</h2>
                    <div class="flex items-center space-x-1 bg-gradient-to-r from-yellow-900/30 to-yellow-700/30 px-3 py-1.5 rounded-lg text-sm">
                        <i class="fas fa-star star-icon text-xs"></i>
                        <span class="font-bold">–ë–∞–ª–∞–Ω—Å: <span class="gold-text" id="minesBalance">0</span>‚≠ê</span>
                    </div>
                </div>

                <div class="text-center mb-4">
                    <p class="text-gray-400 mb-2">–ù–∞–π–¥–∏—Ç–µ –∞–ª–º–∞–∑—ã, –∏–∑–±–µ–≥–∞—è –º–∏–Ω. –ß–µ–º –±–æ–ª—å—à–µ –∞–ª–º–∞–∑–æ–≤ –Ω–∞–π–¥–µ—Ç–µ - —Ç–µ–º –≤—ã—à–µ –≤—ã–∏–≥—Ä—ã—à!</p>
                    <div class="flex justify-center space-x-4">
                        <div class="flex items-center">
                            <div class="mine-cell gem mr-2"></div>
                            <span class="text-sm">–ê–ª–º–∞–∑ = x2</span>
                        </div>
                        <div class="flex items-center">
                            <div class="mine-cell mine mr-2"></div>
                            <span class="text-sm">–ú–∏–Ω–∞ = –ø—Ä–æ–∏–≥—Ä—ã—à</span>
                        </div>
                    </div>
                </div>

                <div class="mine-field" id="mineField">
                    <!-- –ü–æ–ª–µ –º–∏–Ω –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ JavaScript -->
                </div>

                <div class="grid grid-cols-2 gap-3 mb-4">
                    <div class="card p-3 text-center">
                        <p class="text-gray-400 mb-1 mobile-text-sm">–°—Ç–∞–≤–∫–∞</p>
                        <p class="text-lg font-bold gold-text mobile-text-lg">20 ‚≠ê</p>
                    </div>
                    <div class="card p-3 text-center">
                        <p class="text-gray-400 mb-1 mobile-text-sm">–¢–µ–∫—É—â–∏–π –º–Ω–æ–∂–∏—Ç–µ–ª—å</p>
                        <p class="text-lg font-bold text-green-400 mobile-text-lg" id="minesMultiplier">x1</p>
                    </div>
                    <div class="card p-3 text-center">
                        <p class="text-gray-400 mb-1 mobile-text-sm">–ù–∞–π–¥–µ–Ω–æ –∞–ª–º–∞–∑–æ–≤</p>
                        <p class="text-lg font-bold text-blue-400 mobile-text-lg" id="gemsFound">0</p>
                    </div>
                    <div class="card p-3 text-center">
                        <p class="text-gray-400 mb-1 mobile-text-sm">–ú–∞–∫—Å. –≤—ã–∏–≥—Ä—ã—à</p>
                        <p class="text-lg font-bold jackpot mobile-text-lg" id="maxWin">0 ‚≠ê</p>
                    </div>
                </div>

                <div class="flex justify-between">
                    <button id="cashoutButton" class="btn-gold flex items-center space-x-2 flex-1 mr-2 justify-center">
                        <i class="fas fa-hand-holding-usd"></i>
                        <span>–ó–∞–±—Ä–∞—Ç—å</span>
                    </button>
                    <button id="newGameButton" class="bg-gradient-to-r from-gray-700 to-gray-900 text-white flex items-center space-x-2 flex-1 ml-2 justify-center rounded-lg py-2.5 px-4">
                        <i class="fas fa-redo"></i>
                        <span>–ù–æ–≤–∞—è –∏–≥—Ä–∞ (20‚≠ê)</span>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–≤–æ–¥–∞ -->
    <div id="withdrawModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="withdraw-modal card p-6 max-w-sm w-full mx-4">
            <h3 class="text-xl font-bold gold-text mb-4 text-center">–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h3>
            <p class="text-gray-400 text-center mb-4">–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–º–º—É –¥–ª—è –≤—ã–≤–æ–¥–∞</p>
            
            <div class="grid grid-cols-2 gap-3 mb-4">
                <button class="withdraw-amount-btn bg-gradient-to-r from-gray-700 to-gray-900 text-white p-3 rounded-lg text-center" data-amount="15">
                    <div class="text-lg font-bold">15 ‚≠ê</div>
                </button>
                <button class="withdraw-amount-btn bg-gradient-to-r from-gray-700 to-gray-900 text-white p-3 rounded-lg text-center" data-amount="25">
                    <div class="text-lg font-bold">25 ‚≠ê</div>
                </button>
                <button class="withdraw-amount-btn bg-gradient-to-r from-gray-700 to-gray-900 text-white p-3 rounded-lg text-center" data-amount="50">
                    <div class="text-lg font-bold">50 ‚≠ê</div>
                </button>
                <button class="withdraw-amount-btn bg-gradient-to-r from-gray-700 to-gray-900 text-white p-3 rounded-lg text-center" data-amount="100">
                    <div class="text-lg font-bold">100 ‚≠ê</div>
                </button>
            </div>
            
            <div class="flex space-x-2">
                <button id="confirmWithdraw" class="btn-gold flex-1">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                <button id="cancelWithdraw" class="bg-gradient-to-r from-gray-700 to-gray-900 text-white flex-1 py-2 rounded-lg">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-black/80 backdrop-blur-md border-t border-gold-800/30 py-3 px-4">
        <div class="flex flex-col justify-center items-center">
            <div class="flex items-center space-x-2 mb-2">
                <div class="w-5 h-5 rounded-full bg-gradient-to-br from-yellow-600 to-yellow-800 flex items-center justify-center">
                    <i class="fas fa-crown text-white text-xs"></i>
                </div>
                <span class="text-xs">GoldCasino ¬© 2025</span>
            </div>
            <div class="flex space-x-4">
                <a href="https://t.me/Gold_CasinoRoBot" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center space-x-1">
                    <i class="fab fa-telegram"></i>
                    <span>–ù–∞—à Telegram –±–æ—Ç</span>
                </a>
            </div>
        </div>
    </footer>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const BOT_USERNAME = "Gold_CasinoRoBot";
        
        // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let userData = {
            user_id: "",
            balance: 0,
            game_stats: {
                slots: {
                    total_spins: 0,
                    wins: 0,
                    losses: 0,
                    total_won: 0,
                    demo_spins_used: 0
                },
                mines: {
                    games_played: 0,
                    wins: 0,
                    losses: 0,
                    total_won: 0
                }
            },
            withdrawal_history: [],
            demo_spins_available: 5,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString()
        };

        let currentScreen = 'main';
        let isSpinning = false;
        let isDemoSpin = false;
        let tg = null;
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∏–≥—Ä—ã "–ú–∏–Ω—ë—Ä"
        let minesGameActive = false;
        let gemsFound = 0;
        let minesMultiplier = 1;
        let mineField = [];
        let selectedWithdrawAmount = 0;
        
        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const balanceElement = document.getElementById('balance');
        const currentBalanceElement = document.getElementById('currentBalance');
        const minesBalanceElement = document.getElementById('minesBalance');
        const winAmountElement = document.getElementById('winAmount');
        const multiplierElement = document.getElementById('multiplier');
        const minesMultiplierElement = document.getElementById('minesMultiplier');
        const gemsFoundElement = document.getElementById('gemsFound');
        const maxWinElement = document.getElementById('maxWin');
        const demoSpinsElement = document.getElementById('demoSpins');
        const demoSpinsCountElement = document.getElementById('demoSpinsCount');
        const totalWonElement = document.getElementById('totalWon');
        const totalGamesElement = document.getElementById('totalGames');
        const spinButton = document.getElementById('spinButton');
        const demoSpinButton = document.getElementById('demoSpinButton');
        const backButton = document.getElementById('backButton');
        const cashoutButton = document.getElementById('cashoutButton');
        const newGameButton = document.getElementById('newGameButton');
        const mineFieldElement = document.getElementById('mineField');
        const withdrawBtn = document.getElementById('withdrawBtn');
        const withdrawModal = document.getElementById('withdrawModal');
        const confirmWithdraw = document.getElementById('confirmWithdraw');
        const cancelWithdraw = document.getElementById('cancelWithdraw');
        const withdrawAmountBtns = document.querySelectorAll('.withdraw-amount-btn');
        const addStarsBtn = document.getElementById('addStarsBtn');
        const getBonusBtn = document.getElementById('getBonusBtn');
        const telegramUserInfo = document.getElementById('telegramUserInfo');
        const userAvatar = document.getElementById('userAvatar');
        const userName = document.getElementById('userName');
        const userId = document.getElementById('userId');
        const dailyBonusTimer = document.getElementById('dailyBonusTimer');
        const minuteBonusTimer = document.getElementById('minuteBonusTimer');
        const reels = [
            document.getElementById('reel1'),
            document.getElementById('reel2'),
            document.getElementById('reel3')
        ];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        function initTelegramWebApp() {
            if (window.Telegram && Telegram.WebApp) {
                tg = Telegram.WebApp;
                
                // –†–∞—Å—à–∏—Ä—è–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
                tg.expand();
                
                // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const user = tg.initDataUnsafe?.user;
                
                if (user) {
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram
                    userData.user_id = "tg_" + user.id;
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
                    telegramUserInfo.style.display = 'block';
                    userName.textContent = user.first_name + (user.last_name ? ' ' + user.last_name : '');
                    userId.textContent = user.id;
                    
                    if (user.photo_url) {
                        userAvatar.src = user.photo_url;
                    } else {
                        userAvatar.style.display = 'none';
                    }
                    
                    console.log("Telegram user loaded:", user);
                }
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                loadUserData();
                
            } else {
                console.log("Not in Telegram Web App");
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–µ–±-–≤–µ—Ä—Å–∏–∏
                userData.user_id = "web_" + Math.random().toString(36).substr(2, 9);
                loadUserData();
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function loadUserData() {
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –≤–∞—à–µ–º—É API
                // –î–ª—è –¥–µ–º–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º localStorage
                const saved = localStorage.getItem('goldcasino_user_data_' + userData.user_id);
                if (saved) {
                    const savedData = JSON.parse(saved);
                    userData = { ...userData, ...savedData };
                }
                updateUI();
            } catch (error) {
                console.error('Error loading data:', error);
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function saveUserData() {
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –≤–∞—à–µ–º—É API
                localStorage.setItem('goldcasino_user_data_' + userData.user_id, JSON.stringify(userData));
                console.log('Data saved locally');
            } catch (error) {
                console.error('Error saving data:', error);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —ç–∫—Ä–∞–Ω–∞
        function showScreen(screenName) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.add('hidden');
                screen.classList.remove('active');
            });
            
            const targetScreen = document.getElementById(screenName + 'Screen');
            if (targetScreen) {
                targetScreen.classList.remove('hidden');
                setTimeout(() => {
                    targetScreen.classList.add('active');
                }, 10);
            }
            
            if (screenName === 'main') {
                backButton.classList.add('hidden');
            } else {
                backButton.classList.remove('hidden');
            }
            
            currentScreen = screenName;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
        function updateUI() {
            balanceElement.textContent = userData.balance;
            if (currentBalanceElement) currentBalanceElement.textContent = userData.balance;
            if (minesBalanceElement) minesBalanceElement.textContent = userData.balance;
            demoSpinsElement.textContent = userData.demo_spins_available;
            demoSpinsCountElement.textContent = userData.demo_spins_available;
            
            const totalWon = userData.game_stats.slots.total_won + userData.game_stats.mines.total_won;
            const totalGames = userData.game_stats.slots.total_spins + userData.game_stats.mines.games_played;
            
            totalWonElement.textContent = totalWon + " ‚≠ê";
            totalGamesElement.textContent = totalGames;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
        function addStars(amount) {
            userData.balance += amount;
            updateUI();
            saveUserData();
            showNotification(`–ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞ ${amount} –∑–≤–µ–∑–¥!`, 'success');
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–≥—Ä—ã "–°–ª–æ—Ç—ã"
        function getRandomFruit() {
            const fruits = ['üçí', 'üçã', 'üçä', 'üçá', 'üçâ', 'üçì'];
            const weights = [30, 25, 20, 15, 7, 3];
            
            const random = Math.random() * 100;
            let weightSum = 0;
            
            for (let i = 0; i < fruits.length; i++) {
                weightSum += weights[i];
                if (random <= weightSum) {
                    return fruits[i];
                }
            }
            
            return fruits[0];
        }

        function startFastSpin(reel) {
            reel.classList.add('reel-spinning');
        }

        function stopReel(reel, fruit, delay) {
            return new Promise(resolve => {
                setTimeout(() => {
                    reel.classList.remove('reel-spinning');
                    
                    const items = reel.children;
                    let targetPosition = 0;
                    for (let i = 0; i < items.length; i++) {
                        if (items[i].textContent === fruit) {
                            targetPosition = i;
                            break;
                        }
                    }
                    
                    const offset = -targetPosition * 60;
                    reel.style.transition = 'transform 0.8s cubic-bezier(0.2, 0.8, 0.3, 1)';
                    reel.style.transform = `translateY(${offset}px)`;
                    
                    resolve(fruit);
                }, delay);
            });
        }

        function spin() {
            if (isSpinning) return;
            
            if (!isDemoSpin && userData.balance < 1) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤–µ–∑–¥! –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å.', 'error');
                return;
            }

            if (isDemoSpin && userData.demo_spins_available <= 0) {
                showNotification('–î–µ–º–æ-–ø—Ä–æ–∫—Ä—É—Ç—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å!', 'error');
                return;
            }

            isSpinning = true;
            spinButton.disabled = true;
            demoSpinButton.disabled = true;

            if (!isDemoSpin) {
                userData.balance -= 1;
                userData.game_stats.slots.total_spins++;
            } else {
                userData.demo_spins_available--;
                userData.game_stats.slots.demo_spins_used++;
            }

            updateUI();
            saveUserData();

            winAmountElement.textContent = '0 ‚≠ê';
            multiplierElement.textContent = 'x1';

            const results = [
                getRandomFruit(),
                getRandomFruit(),
                getRandomFruit()
            ];

            startFastSpin(reels[0]);
            startFastSpin(reels[1]);
            startFastSpin(reels[2]);

            stopReel(reels[0], results[0], 1000);
            stopReel(reels[1], results[1], 1500);
            stopReel(reels[2], results[2], 2000).then(() => {
                checkResult(results);
                isSpinning = false;
                spinButton.disabled = false;
                demoSpinButton.disabled = false;
                isDemoSpin = false;
            });
        }

        function checkResult(results) {
            const payouts = {
                'üçíüçíüçí': 5,
                'üçãüçãüçã': 10,
                'üçäüçäüçä': 15,
                'üçáüçáüçá': 20,
                'üçâüçâüçâ': 30,
                'üçìüçìüçì': 50
            };

            const combination = results.join('');
            let winMultiplier = payouts[combination] || 0;
            const winAmount = winMultiplier;

            if (winAmount > 0 && !isDemoSpin) {
                userData.balance += winAmount;
                userData.game_stats.slots.wins++;
                userData.game_stats.slots.total_won += winAmount;
                
                winAmountElement.textContent = winAmount + " ‚≠ê";
                multiplierElement.textContent = `x${winMultiplier}`;
                winAmountElement.classList.add('win-animation');
                showNotification(`–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} –∑–≤–µ–∑–¥!`, 'success');
                
                setTimeout(() => {
                    winAmountElement.classList.remove('win-animation');
                }, 1500);
            } else if (winAmount > 0 && isDemoSpin) {
                winAmountElement.textContent = winAmount + " ‚≠ê (–¥–µ–º–æ)";
                multiplierElement.textContent = `x${winMultiplier}`;
                showNotification(`–î–µ–º–æ: –≤—ã–∏–≥—Ä—ã—à ${winAmount} –∑–≤–µ–∑–¥!`, 'info');
            } else {
                userData.game_stats.slots.losses++;
                showNotification('–ü–æ–≤–µ–∑–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑!', 'info');
            }

            updateUI();
            saveUserData();
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–≥—Ä—ã "–ú–∏–Ω—ë—Ä"
        function generateMineField() {
            mineField = Array(25).fill('empty');
            gemsFound = 0;
            minesMultiplier = 1;

            let minesPlaced = 0;
            while (minesPlaced < 5) {
                const randomIndex = Math.floor(Math.random() * 25);
                if (mineField[randomIndex] === 'empty') {
                    mineField[randomIndex] = 'mine';
                    minesPlaced++;
                }
            }

            let gemsPlaced = 0;
            while (gemsPlaced < 10) {
                const randomIndex = Math.floor(Math.random() * 25);
                if (mineField[randomIndex] === 'empty') {
                    mineField[randomIndex] = 'gem';
                    gemsPlaced++;
                }
            }

            renderMineField();
            updateMinesUI();
        }

        function renderMineField() {
            mineFieldElement.innerHTML = '';
            
            for (let i = 0; i < 25; i++) {
                const cell = document.createElement('div');
                cell.className = 'mine-cell';
                cell.dataset.index = i;
                cell.addEventListener('click', () => revealCell(i));
                mineFieldElement.appendChild(cell);
            }
        }

        function revealCell(index) {
            if (!minesGameActive || mineField[index] === 'revealed') return;

            const cell = mineFieldElement.children[index];
            cell.classList.add('revealed');

            if (mineField[index] === 'mine') {
                cell.classList.add('mine');
                minesGameActive = false;
                userData.game_stats.mines.losses++;
                showNotification('–í—ã –Ω–∞—Ç–∫–Ω—É–ª–∏—Å—å –Ω–∞ –º–∏–Ω—É! –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞.', 'error');
                cashoutButton.disabled = true;
            } else if (mineField[index] === 'gem') {
                cell.classList.add('gem');
                gemsFound++;
                minesMultiplier *= 2;
                updateMinesUI();
                showNotification(`–ù–∞–π–¥–µ–Ω –∞–ª–º–∞–∑! –ú–Ω–æ–∂–∏—Ç–µ–ª—å: x${minesMultiplier}`, 'success');
            }

            mineField[index] = 'revealed';

            if (gemsFound === 10) {
                minesGameActive = false;
                cashoutButton.disabled = true;
                showNotification('–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –Ω–∞—à–ª–∏ –≤—Å–µ –∞–ª–º–∞–∑—ã!', 'success');
                cashout();
            }

            saveUserData();
        }

        function updateMinesUI() {
            gemsFoundElement.textContent = gemsFound;
            minesMultiplierElement.textContent = `x${minesMultiplier.toFixed(1)}`;
            maxWinElement.textContent = (20 * minesMultiplier).toLocaleString() + " ‚≠ê";
        }

        function startMinesGame() {
            if (userData.balance < 20) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤–µ–∑–¥! –ù—É–∂–Ω–æ 20‚≠ê', 'error');
                return;
            }

            userData.balance -= 20;
            userData.game_stats.mines.games_played++;
            updateUI();
            saveUserData();

            minesGameActive = true;
            generateMineField();
            cashoutButton.disabled = false;
            showNotification('–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å! –ò—â–∏—Ç–µ –∞–ª–º–∞–∑—ã, –∏–∑–±–µ–≥–∞—è –º–∏–Ω.', 'info');
        }

        function cashout() {
            if (!minesGameActive) return;

            const winAmount = Math.floor(20 * minesMultiplier);
            userData.balance += winAmount;
            userData.game_stats.mines.wins++;
            userData.game_stats.mines.total_won += winAmount;
            
            updateUI();
            saveUserData();

            minesGameActive = false;
            cashoutButton.disabled = true;

            showNotification(`–í—ã –∑–∞–±—Ä–∞–ª–∏ –≤—ã–∏–≥—Ä—ã—à: ${winAmount} –∑–≤–µ–∑–¥!`, 'success');
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤
        function showWithdrawModal() {
            withdrawModal.classList.remove('hidden');
        }

        function hideWithdrawModal() {
            withdrawModal.classList.add('hidden');
            selectedWithdrawAmount = 0;
            withdrawAmountBtns.forEach(btn => {
                btn.classList.remove('bg-gradient-to-r', 'from-yellow-700', 'to-yellow-900');
                btn.classList.add('bg-gradient-to-r', 'from-gray-700', 'to-gray-900');
            });
        }

        function processWithdraw() {
            if (selectedWithdrawAmount === 0) {
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–º–º—É –¥–ª—è –≤—ã–≤–æ–¥–∞', 'error');
                return;
            }

            if (userData.balance < selectedWithdrawAmount) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –≤—ã–≤–æ–¥–∞', 'error');
                return;
            }

            userData.balance -= selectedWithdrawAmount;
            userData.withdrawal_history.push({
                amount: selectedWithdrawAmount,
                date: new Date().toISOString(),
                status: 'pending'
            });

            updateUI();
            saveUserData();
            hideWithdrawModal();

            showNotification(`–ó–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥ ${selectedWithdrawAmount} –∑–≤–µ–∑–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!`, 'success');
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function showNotification(message, type) {
            const notification = document.createElement('div');
            const bgColor = type === 'success' ? 'from-green-700 to-green-900' : 
                           type === 'error' ? 'from-red-700 to-red-900' : 
                           'from-blue-700 to-blue-900';
            
            notification.className = `fixed top-4 left-1/2 transform -translate-x-1/2 bg-gradient-to-r ${bgColor} text-white p-3 rounded-lg shadow-lg z-50 transition-all duration-300 opacity-0 max-w-xs text-center mobile-text-sm`;
            notification.innerHTML = `<div class="flex items-center justify-center space-x-2"><i class="fas fa-${type === 'success' ? 'trophy' : type === 'error' ? 'exclamation-triangle' : 'info-circle'}"></i><span>${message}</span></div>`;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.remove('opacity-0');
                notification.classList.add('opacity-100');
            }, 10);
            
            setTimeout(() => {
                notification.classList.remove('opacity-100');
                notification.classList.add('opacity-0');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        document.addEventListener('DOMContentLoaded', function() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Telegram Web App
            initTelegramWebApp();

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏–≥—Ä—ã
            document.querySelectorAll('.game-card').forEach(card => {
                card.addEventListener('click', function() {
                    const game = this.dataset.game;
                    if (game === 'slots') {
                        showScreen('slots');
                    } else if (game === 'mines') {
                        if (userData.balance >= 20) {
                            showScreen('mines');
                        } else {
                            showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤–µ–∑–¥! –ù—É–∂–Ω–æ 20‚≠ê', 'error');
                        }
                    }
                });
            });

            // –î–µ–º–æ-–∫–Ω–æ–ø–∫–∞ –¥–ª—è —Å–ª–æ—Ç–æ–≤
            document.querySelector('.demo-slots-btn').addEventListener('click', function(e) {
                e.stopPropagation();
                showScreen('slots');
            });

            // –ö–Ω–æ–ø–∫–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
            addStarsBtn.addEventListener('click', function() {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Payments
                addStars(100);
            });

            // –ö–Ω–æ–ø–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤
            getBonusBtn.addEventListener('click', function() {
                window.open(`https://t.me/${BOT_USERNAME}?start=bonus`, '_blank');
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
            backButton.addEventListener('click', function() {
                showScreen('main');
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å–ª–æ—Ç–æ–≤
            spinButton.addEventListener('click', () => {
                isDemoSpin = false;
                spin();
            });

            demoSpinButton.addEventListener('click', () => {
                isDemoSpin = true;
                spin();
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∏–≥—Ä—ã "–ú–∏–Ω—ë—Ä"
            cashoutButton.addEventListener('click', cashout);
            newGameButton.addEventListener('click', startMinesGame);

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤
            withdrawBtn.addEventListener('click', showWithdrawModal);
            cancelWithdraw.addEventListener('click', hideWithdrawModal);
            confirmWithdraw.addEventListener('click', processWithdraw);

            withdrawAmountBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    selectedWithdrawAmount = parseInt(this.dataset.amount);
                    withdrawAmountBtns.forEach(b => {
                        b.classList.remove('bg-gradient-to-r', 'from-yellow-700', 'to-yellow-900');
                        b.classList.add('bg-gradient-to-r', 'from-gray-700', 'to-gray-900');
                    });
                    this.classList.remove('bg-gradient-to-r', 'from-gray-700', 'to-gray-900');
                    this.classList.add('bg-gradient-to-r', 'from-yellow-700', 'to-yellow-900');
                });
            });

            // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                document.body.classList.add('mobile-optimized');
                
                let lastTouchEnd = 0;
                document.addEventListener('touchend', function (event) {
                    const now = (new Date()).getTime();
                    if (now - lastTouchEnd <= 300) {
                        event.preventDefault();
                    }
                    lastTouchEnd = now;
                }, false);
            }

            // –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Å–∞–Ω–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => {
                button.addEventListener('touchstart', function() {
                    this.style.transform = 'scale(0.95)';
                });
                
                button.addEventListener('touchend', function() {
                    this.style.transform = '';
                });
            });
        });
    </script>
</body>
</html>
